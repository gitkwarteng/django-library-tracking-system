# Generated by Django 4.2 on 2025-10-14 15:51
from datetime import timedelta

from django.db import migrations

def update_due_date(apps, schema_editor):
    LoanModel = apps.get_model("library", "Loan")
    for loan in LoanModel.objects.filter(due_date__isnull=True):
        loan.due_date = loan.due_date + timedelta(days=14)
        loan.save(update_fields=["due_date"])

class Migration(migrations.Migration):

    dependencies = [
        ('library', '0003_loan_due_date'),
    ]

    operations = [
        migrations.RunPython(update_due_date)
    ]
